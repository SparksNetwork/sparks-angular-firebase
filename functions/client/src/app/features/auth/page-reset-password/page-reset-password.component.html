<nav class="navbar navbar-default">
  <div class="appbar-left">
    <a class="navbar-brand" [routerLink]="['/']"><img src="assets/img/logo_sparksnetwork_white.svg" alt="sparks.network"/></a>
  </div>
  <div class="appbar-right">
    <a [routerLink]="['../signup']" class="appbar-menu btn btn-primary" title="Sign up to Sparks.Network">Sign up</a>
  </div>
</nav>

<auth-header>
  Reseting your password
</auth-header>


<div class="col-xs-12 col-sm-8 col-md-6">
  <div class="row">

    <p class="hero-text" *ngIf="resetEmailSentTo">
      We sent you an email at {{resetEmailSentTo}}.<br/>It's got a reset link in it.<br/>Go click on it. We'll wait right here.
    </p>

    <auth-alert-error></auth-alert-error>

    <form novalidate [formGroup]="passwordResetEmailForm" (ngSubmit)="sendPasswordResetEmail()" (keyup)="onKeyUp()" *ngIf="!resetEmailSentTo">
      <div class="row">
        <div class="col-xs-12">
          <div class="segment no-padding-tp">
            <div class="form-input" [class.has-error]="!passwordResetEmailForm.get('email').valid && passwordResetEmailForm.get('email').touched">
              <div class="icon">
                <span class="ic ic-envelope"></span>
              </div>
              <div class="text">
                <input type="email" class="form-control" placeholder="Email address" formControlName="email">

              </div>
              <div class="error" [hidden]="!showErrors">
                <span class="error" *ngIf="passwordResetEmailForm.get('email').hasError('required') && passwordResetEmailForm.get('email').touched ">
              Email is required.
            </span>
                <span class="error" *ngIf="passwordResetEmailForm.get('email').touched && passwordResetEmailForm.get('email').hasError('email') && !passwordResetEmailForm.get('email').hasError('required')">
              Email is invalid.
            </span>
              </div>
            </div>
          </div>
        </div>
      </div>


    <div class="bottom-nav">
      <div class="row">
        <div class="col-xs-4">
           <a class="btn btn-primary" [routerLink]="['..', 'signin']">Cancel</a>
        </div>
        <div class="col-xs-4 col-xs-offset-4">
          <button class="btn btn-secondary" (click)="sendPasswordResetEmail()" [disabled]="!passwordResetEmailForm.valid">Next</button>
        </div>
      </div>
    </div>


    </form>




  </div>
</div>

<snui-action-bar class="emptyBottomNav"></snui-action-bar>